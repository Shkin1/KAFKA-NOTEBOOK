[toc]

# CH1 消息引擎

## 简介
  消息引擎系统是一组规范。企业利用这组规范在不同系统之间传递语义准确的消息，实现松耦合的异步式数据传递

提到消息引擎系统，你可能会问 JMS 和它是什么关系。JMS 是 Java Message Service，它也是支持上面这两种消息引擎模型的。严格来说它并非传输协议而仅仅是一组 API 罢了。
不过可能是 JMS 太有名气以至于很多主流消息引擎系统都支持 JMS 规范，比如ActiveMQ、RabbitMQ、IBM 的 WebSphere MQ 和 Apache Kafka。当然 Kafka 并未完全遵照 JMS 规范，
相反，它另辟蹊径，探索出了一条特有的道路。


## 消息引擎的意义与作用
> **“削峰填谷”**  

这四个字简直比消息引擎本身还要有名气。
所谓的“削峰填谷”就是指缓冲上下游瞬时突发流量，使其更平滑。特别是对于那种发送能力很强的上游系统，如果没有消息引擎的保
护，“脆弱”的下游系统可能会直接被压垮导致全链路服务“雪崩”。但是，一旦有了消息引擎，它能够有效地对抗上游的流量冲击，真正做到将上游的“峰”填满到“谷”中，避免
了流量的震荡。消息引擎系统的另一大好处在于发送方和接收方的松耦合，这也在一定程度上简化了应用的开发，减少了系统间不必要的交互。

## 消息格式
  例如 protocol buffer; Thrift,  kafka的选择是纯二进制的字节序列

## 传输协议
  Kfaka同时支持点对点模型及 发布/订阅模型